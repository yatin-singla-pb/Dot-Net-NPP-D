<header class="container fixed-top">
  <div class="d-flex">
    <img src="assets/images/npp_logo_denim.jpg" alt="NPP Logo" />
  </div>
</header>

<main class="container">
  <div class="row justify-content-center">
    <form (ngSubmit)="onSubmit()" class="col-4" *ngIf="!message">

      <div class="mb-3">
        <h3 class="fc-denim">Reset Password</h3>
        Enter your User ID below to receive password reset instructions.
      </div>

      <!-- Success Message -->
      <div *ngIf="message" class="alert alert-success mb-3" role="alert">
        <i class="fa-solid fa-check-circle me-2"></i>
        {{message}}
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="alert alert-danger mb-3" role="alert">
        <i class="fa-solid fa-exclamation-triangle me-2"></i>
        {{error}}
      </div>

      <!-- User ID Field -->
      <div class="mb-3 form-floating">
        <input
          type="text"
          class="form-control"
          id="userId"
          [(ngModel)]="email"
          name="userId"
          placeholder="Enter your User ID"
          required>
        <label for="userId">User ID</label>
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-between">
        <button
          type="button"
          class="btn btn-denim"
          routerLink="/login">
          Back to Login
        </button>
        <button
          type="submit"
          class="btn btn-denim"
          [disabled]="loading || !email">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status"></span>
          {{loading ? 'Sending...' : 'Send Reset Link'}}
        </button>
      </div>

    </form>

    <!-- Success Message Display -->
    <div class="col-4" *ngIf="message">
      <div class="mb-3">
        <h3 class="fc-denim">Password Reset Sent</h3>
      </div>

      <div class="alert alert-success mb-3" role="alert">
        <i class="fa-solid fa-check-circle me-2"></i>
        {{message}}
      </div>

      <div class="text-center">
        <button
          type="button"
          class="btn btn-denim"
          routerLink="/login">
          Back to Login
        </button>
      </div>
    </div>
  </div>
</main>
